<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>HTML Playground</title>

<style>
  :root{color-scheme:dark;}
  body{
    margin:0;
    background:#0b0f14;
    color:#e6edf3;
    font-family:system-ui,Segoe UI,Meiryo,sans-serif;
  }
  header{
    display:flex;
    align-items:center;
    gap:12px;
    padding:10px 14px;
    border-bottom:1px solid #223044;
  }
  header strong{font-size:14px;}
  button{
    background:#1f6feb;
    color:#fff;
    border:none;
    border-radius:8px;
    padding:6px 14px;
    font-weight:700;
    cursor:pointer;
  }
  main{
    display:grid;
    grid-template-columns:1fr 1fr;
    height:calc(100vh - 46px);
  }
  textarea{
    width:100%;
    height:100%;
    background:#0d1117;
    color:#e6edf3;
    border:none;
    outline:none;
    resize:none;
    padding:12px;
    font-family:ui-monospace,Consolas,monospace;
    font-size:13px;
    line-height:1.45;
  }
  iframe{
    width:100%;
    height:100%;
    border:none;
    background:#000;
  }
</style>
</head>

<body>
<header>
  <strong>HTML Playground</strong>
  <button onclick="run()">▶ Run</button>
  <span style="opacity:.6;font-size:12px">HTML / JS / Canvas OK</span>
</header>

<main>
  <textarea id="code"></textarea>
  <iframe id="view"></iframe>
</main>

<script>
const textarea = document.getElementById("code");
const iframe   = document.getElementById("view");

// 初期サンプル（普通の Canvas アニメ）
textarea.value = `<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Normal Animation</title>
<style>
  html,body{margin:0;width:100%;height:100%;background:#0b1d2a;overflow:hidden;}
  canvas{display:block;}
</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
const c = document.getElementById("c");
const ctx = c.getContext("2d");

function resize(){
  c.width = innerWidth;
  c.height = innerHeight;
}
addEventListener("resize", resize);
resize();

let t = 0;
let x = -80;
let last = performance.now();

function loop(now){
  const dt = (now-last)*0.001;
  last = now;
  t += dt;
  x += 120*dt;
  if(x > c.width+80) x = -80;

  const y = c.height*0.5 + Math.sin(t*2)*40;

  ctx.clearRect(0,0,c.width,c.height);

  // 背景
  const g = ctx.createLinearGradient(0,0,0,c.height);
  g.addColorStop(0,"#2a6fa8");
  g.addColorStop(1,"#06131d");
  ctx.fillStyle=g;
  ctx.fillRect(0,0,c.width,c.height);

  // 魚
  ctx.save();
  ctx.translate(x,y);
  ctx.rotate(Math.sin(t*2)*0.05);

  ctx.fillStyle="#ffcc66";
  ctx.beginPath();
  ctx.ellipse(0,0,40,18,0,0,Math.PI*2);
  ctx.fill();

  ctx.beginPath();
  ctx.moveTo(-40,0);
  ctx.lineTo(-65,-15);
  ctx.lineTo(-65,15);
  ctx.closePath();
  ctx.fill();

  ctx.fillStyle="#000";
  ctx.beginPath();
  ctx.arc(15,-5,3,0,Math.PI*2);
  ctx.fill();

  ctx.restore();

  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
<\/script>
</body>
</html>`;

function run(){
  // iframe に HTML を直接流し込む
  iframe.srcdoc = textarea.value;
}

// 初回実行
run();
</script>
</body>
</html>
